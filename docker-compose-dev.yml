services:
    db:
        image: postgres:16.3-alpine3.20
        container_name: memes-db
        restart: unless-stopped
        env_file:
            - .env
        ports:
            - 1000:5432
        volumes:
            - memes_db:/var/lib/postgresql/data

    storage:
        image: quay.io/minio/minio
        container_name: memes-storage
        restart: unless-stopped
        env_file:
            - .env
        ports:
            - 9000:9000
            - 9001:9001
        volumes:
            - memes_storage:/data
        command: "server /data --console-address ':9001'"

volumes:
    memes_db:
    memes_storage:
